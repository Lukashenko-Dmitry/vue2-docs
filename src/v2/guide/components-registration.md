---
title: Реєстрація компонент
type: guide
order: 101
---

> Цей розділ передбачає ваше розуміння [базових знань компонентів](components.html). Прочитайте його перед тим, як знайомитися з цим розділом.

<div class="vueschool"><a href="https://vueschool.io/lessons/global-vs-local-components?friend=vuejs" target="_blank" rel="sponsored noopener" title="Дізнайтеся про реєстрацію компонентів у Vue School">Дізнайтеся про реєстрацію компонентів на безкоштовному уроці у Vue School</a></div>

## Ім'я компонентів

При реєстрації компонента, їй завжди дається певне ім'я. Для прикладу, при глобальній реєстрації ми поки помічали наступне:

```js
Vue.component('my-component-name', { /* ... */ })
```

Тут ім'я компонента — перший аргумент функції `Vue.component`.

Ім'я, яке ви дасте компоненту залежатиме від того, як ви його хочете використовувати. При використанні компонента безпосередньо в DOM (на противагу використання в рядковому шаблон або [однофайлового компоненту](single-file-components.html)), ми настійно рекомендуємо слідувати [правил W3C](https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name) для своїх власних імен тегів (всі у нижньому регістрі, повинні містити дефіс). Це допоможе уникати можливих конфліктів з наявними та майбутніми елементами HTML.

Ви також можете побачити інші рекомендації щодо правильності написання імен компонентів в [посібнику по стилях](../style-guide/#Імена-базових-компонент-настійно-рекомендовано).

### Регістри імен

У вас є два способи оголошення імен компонентів:

#### В стилі kebab-case

```js
Vue.component('my-component-name', { /* ... */ })
```

При оголошенні в стилі kebab-case, ви мусите також використовувати цей стиль при посиланні на відповідний власний елемент, як, для прикладу, `<my-component-name>`.

#### В стилі PascalCase

```js
Vue.component('MyComponentName', { /* ... */ })
```

При оголошенні компонента в стилі PascalCase, ви також можете використовувати будь-який стиль у написані власного елементу. Це означає, що обидва `<my-component-name>` та `<MyComponentName>` є допустимими. Щоправда, варто відзначити, що лише kebab-case є дійсним DOM елементом (тобто, не в не рядкових шаблонах).

## Глобальна реєстрація

Наразі, ми лише створювали компоненти через `Vue.component`:

```js
Vue.component('my-component-name', {
  // ... властивості ...
})
```

Такі компоненти є **зареєстрованими глобально**. Це означає, що вони можуть використовувати в шаблонах будь-якого екземпляру Vue (`new Vue`), створеного після реєстрації. Наприклад:

```js
Vue.component('component-a', { /* ... */ })
Vue.component('component-b', { /* ... */ })
Vue.component('component-c', { /* ... */ })

new Vue({ el: '#app' })
```

```html
<div id="app">
  <component-a></component-a>
  <component-b></component-b>
  <component-c></component-c>
</div>
```

Це навіть стосується до всім вкладених компонент, і навіть всі ці три компоненти будуть також доступні _всередині одне одного_.

## Локальна реєстрація

Глобальна реєстрація часто не є ідеальною. Для прикладу, якщо ви використовуєте систему збирання, таку як Webpack, глобальна реєстрація всіх компонентів означає те, що навіть якщо ви перестали використовувати якогось компонента, він все одно буде включений до вашої фінальної збірки. Це збитково збільшує об'єм JavaScript-коду, який буде скачуватися користувачами.

В таких випадках, ви можете оголосити ваші компоненти у вигляді звичайних об'єктів JavaScript:

```js
var ComponentA = { /* ... */ }
var ComponentB = { /* ... */ }
var ComponentC = { /* ... */ }
```

Потім, оголосіть ті компоненти, які ви бажаєте використовувати у властивості `components`:

```js
new Vue({
  el: '#app',
  components: {
    'component-a': ComponentA,
    'component-b': ComponentB
  }
})
```

Для кожної властивості в об'єкті `components`, ключ слугуватиме за ім'я власного елементу, а її значення — власне сам компонент.

Зверніть увагу, що **локально зареєстровані компоненти _недоступні_ у вкладених компонентах. Для прикладу, якщо б ви хотіли використати `ComponentA` в `ComponentB`, вам би довелося зробити наступне:

```js
var ComponentA = { /* ... */ }

var ComponentB = {
  components: {
    'component-a': ComponentA
  },
  // ...
}
```

Або ж, якщо ви використовуєте модулі ES2015, через використання Babel та Webpack, це б могло виглядати отак:

```js
import ComponentA from './ComponentA.vue'

export default {
  components: {
    ComponentA
  },
  // ...
}
```

Майте на увазі, що починаючи з ES2015+, використовуючи таке ім'я змінної, як `ComponentA` всередині об'єкту є наступним скороченням: `ComponentA: ComponentA` — ім'я змінної відноситься до обох випадків:

- власне ім'я компонента, яке можна використовувати у шаблоні, та
- ім'я змінної, яка містить властивості компонента

## Модульні системи

Якщо ви не використовуєте модульні системи через `import`/`require`, ви, мабуть, можете пропустити цей розділ з цього моменту. В іншому разі, в нас для вас є певні додаткові інструкції та підказки.

### Локальна реєстрація в модульних системах

Якщо ви досі тут, тоді, швидше за все, ви використовуєте якусь модульну систему, таку як Babel та Webpack. В цих випадках, ми радимо створювати теку `components`, яка містить кожний окремий компонент в окремому файлі.

Тоді вам потрібно буде імпортувати кожен компонент, який ви хотіли б використовувати перед локальним його використанням. Приклад для наших гіпотетичних файлів `ComponentB.js` та `ComponentB.vue`:

```js
import ComponentA from './ComponentA'
import ComponentC from './ComponentC'

export default {
  components: {
    ComponentA,
    ComponentC
  },
  // ...
}
```

Тепер обидва `ComponentA` та `ComponentC` можуть використовуватися всередині шаблону `ComponentB`.

### Автоматична базова реєстрація базових компонентів

Багато ваших компонентів будуть відносно загальними, можливо, обгорткою для таких елементів, як, наприклад, `<input>` чи `<button>`. Ми часом звертаємося до таких компонентів, як до [базових](../style-guide/#Імена-базових-компонент-настійно-рекомендовано), та вони, як правило, використовуються досить часто у ваших інших компонентах.

Результатом може бути те, що багато компонентів може містити список таких базових компонентів:

```js
import BaseButton from './BaseButton.vue'
import BaseIcon from './BaseIcon.vue'
import BaseInput from './BaseInput.vue'

export default {
  components: {
    BaseButton,
    BaseIcon,
    BaseInput
  }
}
```

І це заради того, щоб підтримувати лише ось такий невеличкий шаблон:

```html
<BaseInput
  v-model="searchText"
  @keydown.enter="search"
/>
<BaseButton @click="search">
  <BaseIcon name="search"/>
</BaseButton>
```

На щастя, якщо ви використовуєте Webpack (або [Vue CLI 3+](https://github.com/vuejs/vue-cli), який внутрішньо використовує Webpack), ви можете скористатися `require.context` для глобальної реєстрації ось цих базових та найчастіше використовуваних компонентів. До вашої уваги, приклад коду, який ви б могли використовувати для глобального імпорту базових компонентів в головному файлі вашого додатку (тобто, `src/main.js`):

```js
import Vue from 'vue'
import upperFirst from 'lodash/upperFirst'
import camelCase from 'lodash/camelCase'

const requireComponent = require.context(
  // Відносний шлях до теки з компонентами
  './components',
  // Чи потрібно заглядати у вкладені теки
  false,
  // Регулярний вираз, який буде використовуватися для перевірки імені компоненту на відповідність
  /Base[A-Z]\w+\.(vue|js)$/
)

requireComponent.keys().forEach(fileName => {
  // Отримати конфігурацію компоненту
  const componentConfig = requireComponent(fileName)

  // Отримати ім'я компоненту в стилі PascalCase
  const componentName = upperFirst(
    camelCase(
      // Отримати ім'я файлу незважаючи на вкладеність
      fileName
        .split('/')
        .pop()
        .replace(/\.\w+$/, '')
    )
  )


  // Зареєструвати компонент глобально
  Vue.component(
    componentName,
    // Шукати властивості компоненту в `.default`, який існуватиме, якщо
    // компонент був експортований за допомогою `export default`,
    // в іншому разі використовувати кореневий об'єкт модуля.
    componentConfig.default || componentConfig
  )
})
```

Запам'ятайте, що **глобальна реєстрація має виконуватися перед створенням кореневої Vue екземпляру (через `new Vue`)**. [Ось приклад](https://github.com/chrisvfritz/vue-enterprise-boilerplate/blob/master/src/components/_globals.js) такого підходу в контексті реального проекту.
